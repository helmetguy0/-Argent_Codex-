<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Argent Codex: All-in-One Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" rel="stylesheet">
  <style>
    body { background:#111; color:#eee; padding:2rem; }
    .box { background:#1b1b1b; }
    textarea { width:100%; height:200px; background:#222; color:#eee; border:1px solid #444; }
  </style>
  <script>
window.codexInterface = {
  notify(action, payload) {
    console.log("üì° Codex Interface Action:", action, payload);
  },
  updatePanel(id, html) {
    const el = document.getElementById(id);
    if (el) {
      el.innerHTML = html;
    }
  }
};
</script>
</head>
<body>
  <h1 class="title">Argent Codex Dashboard (Standalone)</h1>
  <p class="subtitle">üß¨ Rumors | üï∞Ô∏è Timeline | üß† Memory | üó∫Ô∏è Maps | ‚öîÔ∏è Encounters</p>

  <div class="box">
    <h2 class="subtitle">Rumor Engine</h2>
    <div id="rumorFeed">Press the button to generate a rumor.</div>
    <button class="button is-info mt-2" onclick="loadRumors()">Generate Rumor</button>
  </div>

  <div class="box">
    <h2 class="subtitle">Timeline Log</h2>
    <div id="timelineLog">No entries yet.</div>
    <button class="button is-success mt-2" onclick="addTimelineEntry()">Add Entry</button>
  </div>

  <div class="box">
    <h2 class="subtitle">Codex Memory</h2>
    <textarea id="codexMemory" oninput="saveMemory()" placeholder="Track NPCs, curse signs, world events..."></textarea>
  </div>

  <div class="box">
    <h2 class="subtitle">Interactive Map</h2>
    <div id="mapViewer"><button class="button is-warning" onclick="loadMapViewer()">Load Map</button></div>
  </div>

  <div class="box">
    <h2 class="subtitle">Encounter Planner</h2>
    <div id="encounterPlanner">
      <button class="button is-danger" onclick="addMonsterToEncounter()">Add Monster</button>
    </div>
  </div>

  <script>
function loadRumors() {
  const rumors = [
    "A dreamroot trader vanished near Snakewood‚Äîonly his shadow returned.",
    "The Argent Veil bell rings at night with no priest in sight.",
    "Planar storms flicker above the Sunset Mountains.",
    "A traveler awoke speaking in voices not his own.",
    "A Sitri mark glowed in a child‚Äôs drawing near the bakery."
  ];
  const seed = Math.floor(Math.random() * rumors.length);
  document.getElementById("rumorFeed").innerHTML = `<p>${rumors[seed]}</p>`;
  codexInterface.notify("rumorRolled", { rumor: rumors[seed] });
}
</script>
  <script>
let timeline = [];
function renderTimeline() {
  const log = document.getElementById("timelineLog");
  log.innerHTML = timeline.map(e => `<div><strong>${e.date}</strong>: ${e.text}</div>`).join('');
}
function addTimelineEntry() {
  const text = prompt("Log this event:");
  if (text) {
    const date = new Date().toLocaleDateString();
    timeline.push({ date, text });
    renderTimeline();
    codexInterface.notify("timelineEntry", { date, text });
  }
}
</script>
  <script>
let memoryNotes = "";
function saveMemory() {
  memoryNotes = document.getElementById("codexMemory").value;
  codexInterface.notify("memoryUpdate", { text: memoryNotes });
}
</script>
  <script>
function loadMapViewer() {
  document.getElementById("mapViewer").innerHTML = \`
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/63/Faerun_map.jpg" alt="Map" style="max-width:100%;">
    <p style="color:#888;font-size:smaller;">(Static map image placeholder)</p>
  \`;
}
</script>
  <script>
let encounterMonsters = [];
function addMonsterToEncounter() {
  const name = prompt("Monster name:");
  if (name) {
    encounterMonsters.push(name);
    updateEncounterPanel();
  }
}
function updateEncounterPanel() {
  const list = encounterMonsters.map(n => `<li>${n}</li>`).join('');
  document.getElementById("encounterPlanner").innerHTML = `
    <h3>Encounter:</h3><ul>${list}</ul>
    <button onclick="addMonsterToEncounter()">Add Monster</button>
  `;
  codexInterface.notify("encounterUpdated", { encounterMonsters });
}
</script>
</body>
</html>