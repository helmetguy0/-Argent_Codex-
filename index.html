
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üß† Argent Codex Dashboard</title>
  <style>
    body {
      background-color: #111;
      color: #eee;
      font-family: sans-serif;
      padding: 20px;
    }
    h1 {
      color: cyan;
    }
    .button-bar button {
      margin: 5px;
      padding: 8px 16px;
      background: #333;
      color: white;
      border: 1px solid #555;
      cursor: pointer;
    }
    .button-bar button:hover {
      background: #555;
    }
    .content-section {
      margin-top: 20px;
      padding: 10px;
      background: #222;
      display: none;
    }
    .status {
      color: lime;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>üß† Argent Codex Dashboard</h1>
  <p>Status: <span class="status">LIVE SYNC ACTIVE</span></p>
  <p>This is the live version of the dashboard. Modules will be loaded dynamically from <code>live-modules.json</code>.</p>

  <div class="button-bar">
    <button onclick="showTab('grid')">Grid</button>
    <button onclick="showTab('npc')">NPC</button>
    <button onclick="showTab('rumors')">Rumors</button>
    <button onclick="showTab('sitri')">Sitri</button>
    <button onclick="showTab('timeline')">Timeline</button>
  </div>

  <div id="grid" class="content-section"><h2>üìç Grid Cell Lookup</h2><p>Coming soon...</p></div>
  <div id="npc" class="content-section"><h2>üßô NPC Generator</h2><p>Coming soon...</p></div>
  <div id="rumors" class="content-section"><h2>üí¨ Rumor Engine</h2><p>Coming soon...</p></div>
  <div id="sitri" class="content-section"><h2>üïØÔ∏è Sitri Curse Tracker</h2><p>Coming soon...</p></div>
  <div id="timeline" class="content-section"><h2>üóìÔ∏è Timeline + Faction Log</h2><p>Coming soon...</p></div>

  <script>
    function showTab(id) {
      document.querySelectorAll('.content-section').forEach(sec => sec.style.display = 'none');
      document.getElementById(id).style.display = 'block';
    }

    // Future: Auto-load modules from live-modules.json
  </script>
  <script>
  async function loadModules() {
    const response = await fetch('live-modules.json');
    const modules = await response.json();

    const buttonBar = document.querySelector('.button-bar');
    const body = document.querySelector('body');

    modules.forEach(mod => {
      // Add navigation button
      const btn = document.createElement('button');
      btn.innerText = mod.navButton.label;
      btn.onclick = () => showTab(mod.id);
      buttonBar.appendChild(btn);

      // Add content section
      const section = document.createElement('div');
      section.className = 'content-section';
      section.id = mod.id;
      section.innerHTML = `<h2>${mod.title}</h2>${mod.content}`;
      body.appendChild(section);

      // Load script if provided
      if (mod.scriptURL) {
        const script = document.createElement('script');
        script.src = mod.scriptURL;
        body.appendChild(script);
      }
    });
  }

  loadModules();
</script>
<script>
fetch("live-modules.json")
  .then(response => response.json())
  .then(data => {
    const nav = document.querySelector(".button-bar");
    const container = document.querySelector("body");

    data.modules.forEach(mod => {
      // Add navigation button
      const btn = document.createElement("button");
      btn.textContent = mod.navButton.label;
      btn.onclick = () => {
        document.querySelectorAll(".content-section").forEach(sec => sec.style.display = "none");
        document.getElementById(mod.id).style.display = "block";
      };
      nav.appendChild(btn);

      // Create content section
      const section = document.createElement("div");
      section.className = "content-section";
      section.id = mod.id;
      section.innerHTML = `<h2>${mod.title}</h2>${mod.content}`;
      section.style.display = "none";
      container.appendChild(section);

      // Dynamically load the JS for the module
      if (mod.scriptURL) {
        const script = document.createElement("script");
        script.src = mod.scriptURL;
        document.body.appendChild(script);
      }
    });
  });
</script>

</body>
</html>
